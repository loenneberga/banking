<app-validation></app-validation>
<div *ngIf='loggedInUser'>
  <div class="container-fluid">

    <!-- HEADER -->
    <nav class="navbar navbar-expand">

      <a class="navbar-brand mr-1" style="color:#00AAA9" href="admin/home">Paradise Financial Group</a>

      <span class="fill-navbar-space"></span>
      <ul class="navbar-nav ml-auto ml-md-0">
        <li class="nav-item dropdown no-arrow">
          <a class="nav-link" id="userDropdown" role="button" data-toggle="dropdown" aria-haspopup="true"
            aria-expanded="false">
            <i class="fas fa-user-circle fa-fw fa-2x" style="color:#00AAA9"></i>
          </a>
          <div class="dropdown-menu dropdown-menu-right" aria-labelledby="userDropdown" style="color:#00AAA9">
            <a class="dropdown-item" href="user/profile">Profile</a>
            <div class="dropdown-divider"></div>

            <a class="dropdown-item" href="landingpage" data-toggle="modal" data-target="#logoutModal"
              (click)='logout()'>Logout</a>
          </div>
        </li>
      </ul>
    </nav>


    <!-- SIDEBAR -->
    <ul class="sidebar navbar-nav">

      <li class="nav-item active">
        <a class="nav-link" href="user/home">
          <i class="fas fa-fw fa-tachometer-alt"></i><br>
          <span>Dashboard</span>
        </a>
      </li>

      <li class="nav-item">
        <a class="nav-link" href="user/transaction">
          <i class="fas fa-money-check-alt"></i><br>
          <span>New Transaction</span></a>
      </li>

      <li class="nav-item">
        <a class="nav-link" href="/user/transactions">
          <i class="fas fa-fw fa-table"></i><br>
          <span>Transaction Details</span></a>
      </li>
    </ul>

    <!-- MAIN CONTENT -->
    <div class="content-wrapper">

      <div class="d-sm-flex align-items-center justify-content-between mb-4">
        <h1 class="h3 mb-0 text-gray-800">Welcome, {{loggedInUser.firstName}}!</h1>
      </div>

      <div class="row">

        <div class="col-xl-5 col-md-6 mb-4">
          <div class="card border-left-primary shadow h-100 py-2">
            <div class="card-body">
              <div class="row no-gutters align-items-center">
                <div class="col mr-2">
                  <div class="text-xs font-weight-bold text-uppercase mb-1" style="color:#627C7B">Your current balance
                  </div>
                  <div class="h5 mb-0 font-weight-bold text-gray-800">${{totalBalance.toFixed(2)}}</div>
                </div>
                <div class="col-auto">
                  <i class="fas fa-piggy-bank fa-4x "></i>
                </div>
              </div>
            </div>
          </div>
        </div>


        <div class="col-xl-5 col-md-6 mb-4">
          <div class="card border-left-primary shadow h-100 py-2">
            <div class="card-body">
              <div class="row no-gutters align-items-center">
                <div class="col mr-2">
                  <a href="user/transaction">
                    <div class="text-xs font-weight-bold text-uppercase mb-1" style="color:#627C7B">
                      Start new Transaction</div>
                  </a>
                </div>
                <div class="col-auto">
                  <i class="fas fa-money-check-alt fa-4x"></i>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
      <div class="row">
        <div class="col-xl-10 col-md-6 mb-4">
          <div class="card border-left-primary shadow h-100 py-2">
            <div class="card-body">
              <div class="row no-gutters align-items-center">
                <div class="col mr-2">
                  
                    <div class="text-xs font-weight-bold text-uppercase mb-1" style="color:#627C7B">
                      Account Details</div>
                  
                  <div class="table-responsive"> 
                    <table class="table table-striped table-sm">
                      <thead> 
                      <tr>
                        <th scope="col">IBAN</th>
                        <th scope="col">Type</th>
                        <th scope="col">Balance</th>
                      </tr>
                    </thead>
                      <tr mdbTableCol *ngFor='let account of loggedInUser.accountList'>
                        <td>{{account.iban.value}} </td>
                        <td>{{account.accountType}} </td>
                        <td>${{account.balance.toFixed(2)}} </td>
                      </tr>
                    </table>
                  </div>
                
                  <br>
                </div>
                <div class="col-auto">
                  <i class="fas fa-hand-holding-usd fa-4x"></i>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- FOOTER-->
  <footer class="footer">
    <span>
        Paradise is very nice
    </span>
  </footer>
</div>